+db

# Inicializar base de datos MotoStock

main = : conn = db.connect("sqlite:./motostock.db"); db.execute(conn, "CREATE TABLE IF NOT EXISTS parts (id INTEGER PRIMARY KEY AUTOINCREMENT, code TEXT UNIQUE NOT NULL, name TEXT NOT NULL, brand TEXT, price REAL DEFAULT 0, stock INTEGER DEFAULT 0, min_stock INTEGER DEFAULT 5)"); db.execute(conn, "INSERT OR IGNORE INTO parts (code, name, brand, price, stock, min_stock) VALUES ('ACE-001', 'Aceite 10W40 1L', 'Motul', 25.50, 20, 5)"); db.execute(conn, "INSERT OR IGNORE INTO parts (code, name, brand, price, stock, min_stock) VALUES ('FIL-001', 'Filtro de aceite', 'Honda', 12.00, 8, 3)"); db.execute(conn, "INSERT OR IGNORE INTO parts (code, name, brand, price, stock, min_stock) VALUES ('BUJ-001', 'Bujia NGK', 'NGK', 8.50, 5, 10)"); db.execute(conn, "INSERT OR IGNORE INTO parts (code, name, brand, price, stock, min_stock) VALUES ('CAD-001', 'Cadena 428', 'DID', 45.00, 3, 2)"); db.close(conn); {status: "initialized"}
